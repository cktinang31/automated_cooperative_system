<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>savings| <%=title %></title>
    <style></style>
</head>
<body>
<!-- 
    <div class="formBox">
        <label for="total">Total Savings:</label>
        <input type="number" id="total" readonly>
    </div>
    
    <div class="create-savings content">
        <form action="/savings" method="POST">
        <label for="deposit">Deposit:</label>
        <select id="deposit" onchange="calculateTotal()">
            <option value="0"></option>
            <option value="100">100</option>
            <option value="200">200</option>
            <option value="300">300</option>
            
        </select>
    </form>
    </div>

    
    <div class="formBox">
        <label for="withdrawal">Withdrawal:</label>
        <input type="number" id="withdrawal" placeholder="Enter withdrawal amount" min="0" oninput="calculateTotal()">
    </div> -->
    
    <div>
        <!-- <h2>Select Mode of Payment</h2>
        <input type="radio" id="creditCard" name="paymentMode" value="Credit Card">
        <label for="creditCard">Credit Card</label><br>
    
        <input type="radio" id="debitCard" name="paymentMode" value="Debit Card">
        <label for="debitCard">Debit Card</label><br>
    
        <input type="radio" id="paypal" name="paymentMode" value="PayPal">
        <label for="paypal">PayPal</label><br>
    
        <input type="radio" id="bankTransfer" name="paymentMode" value="Bank Transfer">
        <label for="bankTransfer">Bank Transfer</label><br>
    
        <button onclick="getSelectedPayment()">Submit</button>
    </div>

    <div class="formbox"> -->
        
    <form action="/savings" method="POST">
        <label for="userId">User ID:</label><br>
        <input type="number" id="userId" name="user_id" required><br><br>

        <label for="amount">Amount:</label><br>
        <input type="number" id="amount" name="amount" ><br><br>

        <label for="interest">Interest:</label><br>
        <input type="number" id="interest" name="interest"><br><br>

        <label for="loanId">Loan ID:</label><br>
        <input type="number" id="loanId" name="loan_id"><br><br>

        <button type="submit">Submit</button>
    </form>
    </div>

</div>

<% if (savings.length > 0) { %>
    <% applications.forEach(savings => { %>
      <tr savings="<%= savings.amount%>">
        <td><%= savings.amount %></td>
        <td><%= application.fname %> <%= application.lname %> has sent a membership request.</td>
        <td><%= application.date_sent %></td>
        
      </tr>
    <% }) %>
  <% } else { %>
    <tr>
      <td colspan="8">No membership requests at the moment...</td>
    </tr>
  <% } %> 
    <script>
        function calculateTotal() {
            // Get deposit and withdrawal amounts
            var deposit = parseFloat(document.getElementById("deposit").value) || 0;
            var withdrawal = parseFloat(document.getElementById("withdrawal").value) || 0;
    
            // Calculate total savings
            var total = deposit - withdrawal;
    
            // Update total input field
            document.getElementById("total").value = total.toFixed(2);
        }

        function getSelectedPayment() {
            var paymentModeElements = document.getElementsByName("paymentMode");
    
            var selectedPaymentMode;
            for (var i = 0; i < paymentModeElements.length; i++) {
                if (paymentModeElements[i].checked) {
                    selectedPaymentMode = paymentModeElements[i].value;
                    break;
                }
            }
    
            if (selectedPaymentMode) {
                alert("Selected mode of payment: " + selectedPaymentMode);
            } else {
                alert("Please select a mode of payment.");
            }
        }
    </script>
    
    </body>
    </html>


    
