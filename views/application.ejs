<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Form | <%= title %></title>
    <link rel="stylesheet" href="/css/application.css">
</head>
<body>
    <div class="container">
        <div class="column1">
            <p>"Shared Prosperity, <br> Shared Purpose"</p>
        </div>

        <div class="column2">
            <h1 class="formtitle">Cooperative's Application Form</h1>
            <form action="/mem_application" method="POST">
                <div class="form-group">
                    <input type="text" id="fname" name="fname" placeholder=" " required>
                    <label for="fname">First Name</label>
                </div>
                
                <div class="form-group">
                    <input type="text" id="mname" name="mname" placeholder=" ">
                    <label for="mname">Middle Name</label>
                </div>

                <div class="form-group">
                    <input type="text" id="lname" name="lname" placeholder=" " required>
                    <label for="lname">Last Name</label>
                </div>

                <div class="form-group">
                    <input 
                        type="text" 
                        id="date_of_birth" 
                        name="date_of_birth" 
                        placeholder=" " 
                        required 
                        inputmode="none" 
                        onfocus="(this.type='date')" 
                        onblur="checkAge(this)">
                    <label for="date_of_birth">Date of Birth</label>
                </div>                                     
                
                <div class="form-group">
                    <input type="text" id="place_of_birth" name="place_of_birth" placeholder=" " required>
                    <label for="place_of_birth">Place of Birth</label>
                </div>
                
                <div class="form-group">
                    <input type="text" id="address" name="address" placeholder=" " required>
                    <label for="address">Address</label>
                </div>

                <div class="form-group">
                    <input type="email" id="email" name="email" placeholder=" " required>
                    <label for="email">Email Address</label>
                </div>

                <div class="form-group">
                    <input type="tel" id="contact" name="contact" placeholder=" " required>
                    <label for="contact">Contact Number</label>
                </div>
            
                <button type="submit" class="submit">Submit</button>
            </form>
            
        </div>
        <div id="successMessage" class="success-message">
            Application submitted successfully. Please wait for approval.
        </div>
    </div>
    <script src="/js/application.js"></script>
    <script>
        function checkAge(input) {
            const dob = new Date(input.value); 
            const today = new Date(); 
            const age = today.getFullYear() - dob.getFullYear(); 
            const monthDiff = today.getMonth() - dob.getMonth(); 
    
           
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
                age--;
            }
    
           
            if (age < 18) {
                alert("You must be 18 years or older.");
                input.value = ""; 
            }
        }
    </script>
</body>
</html>
